{"ast":null,"code":"var _jsxFileName = \"/Users/kirillsamylin/Desktop/table/stop-list/src/components/PopupCropper/PopupCropper.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Cropper from \"react-cropper\";\nimport \"cropperjs/dist/cropper.css\";\nimport styles from \"./PopupCropper.module.css\";\nimport cn from \"classnames\";\nimport { Popup } from \"../\";\nimport * as cropperSlice from \"./PopupCropper.slice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cropOptions = {\n  width: 750,\n  height: 470\n};\nexport const PopupCropper = () => {\n  _s();\n\n  const cropperRef = useRef(null);\n  const dispatch = useDispatch();\n  const state = useSelector(cropperSlice.selectState);\n  const image = useSelector(cropperSlice.selectImage);\n\n  const onCrop = () => {\n    const imageElement = cropperRef === null || cropperRef === void 0 ? void 0 : cropperRef.current;\n    const cropper = imageElement === null || imageElement === void 0 ? void 0 : imageElement.cropper; //console.log(cropper.getCroppedCanvas().toDataURL());\n  };\n\n  return /*#__PURE__*/_jsxDEV(Popup, {\n    className: styles.popup,\n    opened: state,\n    children: /*#__PURE__*/_jsxDEV(Cropper, {\n      src: image || '',\n      style: cropOptions,\n      initialAspectRatio: 75 / 47,\n      autoCropArea: 1,\n      crop: onCrop,\n      ref: cropperRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PopupCropper, \"eRHv+LheDIHcQ0/PO8dmk5wvW0U=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = PopupCropper;\n\nvar _c;\n\n$RefreshReg$(_c, \"PopupCropper\");","map":{"version":3,"sources":["/Users/kirillsamylin/Desktop/table/stop-list/src/components/PopupCropper/PopupCropper.js"],"names":["React","useEffect","useRef","useSelector","useDispatch","Cropper","styles","cn","Popup","cropperSlice","cropOptions","width","height","PopupCropper","cropperRef","dispatch","state","selectState","image","selectImage","onCrop","imageElement","current","cropper","popup"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAO,4BAAP;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,SAASC,KAAT,QAAsB,KAAtB;AACA,OAAO,KAAKC,YAAZ,MAA8B,sBAA9B;;AAEA,MAAMC,WAAW,GAAG;AAClBC,EAAAA,KAAK,EAAE,GADW;AAElBC,EAAAA,MAAM,EAAE;AAFU,CAApB;AAKA,OAAO,MAAMC,YAAY,GAAG,MAAM;AAAA;;AAChC,QAAMC,UAAU,GAAGZ,MAAM,CAAC,IAAD,CAAzB;AACA,QAAMa,QAAQ,GAAGX,WAAW,EAA5B;AACA,QAAMY,KAAK,GAAGb,WAAW,CAACM,YAAY,CAACQ,WAAd,CAAzB;AACA,QAAMC,KAAK,GAAGf,WAAW,CAACM,YAAY,CAACU,WAAd,CAAzB;;AAIA,QAAMC,MAAM,GAAG,MAAM;AACnB,UAAMC,YAAY,GAAGP,UAAH,aAAGA,UAAH,uBAAGA,UAAU,CAAEQ,OAAjC;AACA,UAAMC,OAAO,GAAGF,YAAH,aAAGA,YAAH,uBAAGA,YAAY,CAAEE,OAA9B,CAFmB,CAGnB;AACD,GAJD;;AAMA,sBACE,QAAC,KAAD;AAAO,IAAA,SAAS,EAAEjB,MAAM,CAACkB,KAAzB;AAAgC,IAAA,MAAM,EAAER,KAAxC;AAAA,2BACE,QAAC,OAAD;AACE,MAAA,GAAG,EAAEE,KAAK,IAAI,EADhB;AAEE,MAAA,KAAK,EAAER,WAFT;AAGE,MAAA,kBAAkB,EAAE,KAAK,EAH3B;AAIE,MAAA,YAAY,EAAE,CAJhB;AAKE,MAAA,IAAI,EAAEU,MALR;AAME,MAAA,GAAG,EAAEN;AANP;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAYD,CA1BM;;GAAMD,Y;UAEMT,W,EACHD,W,EACAA,W;;;KAJHU,Y","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Cropper from \"react-cropper\";\nimport \"cropperjs/dist/cropper.css\";\nimport styles from \"./PopupCropper.module.css\";\nimport cn from \"classnames\";\nimport { Popup } from \"../\";\nimport * as cropperSlice from \"./PopupCropper.slice\";\n\nconst cropOptions = {\n  width: 750,\n  height: 470,\n};\n\nexport const PopupCropper = () => {\n  const cropperRef = useRef(null);\n  const dispatch = useDispatch();\n  const state = useSelector(cropperSlice.selectState);\n  const image = useSelector(cropperSlice.selectImage);\n\n\n\n  const onCrop = () => {\n    const imageElement = cropperRef?.current;\n    const cropper = imageElement?.cropper;\n    //console.log(cropper.getCroppedCanvas().toDataURL());\n  };\n  \n  return (\n    <Popup className={styles.popup} opened={state}>\n      <Cropper\n        src={image || ''}\n        style={cropOptions}\n        initialAspectRatio={75 / 47}\n        autoCropArea={1}\n        crop={onCrop}\n        ref={cropperRef}\n      />\n    </Popup>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}