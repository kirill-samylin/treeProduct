{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kirillsamylin/Desktop/table/stop-list/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kirillsamylin/Desktop/table/stop-list/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import{saveImage}from\"../../services/api\";var initialState={isOpen:false,image:\"\",url:\"\",loading:false};export var saveImageAsync=createAsyncThunk(\"imageCropper/saveImage\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return saveImage(data);case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var imageCropperSlice=createSlice({name:\"imageCropper\",initialState:initialState,reducers:{handleClose:function handleClose(state){state.isOpen=false;state.image=\"\";},handleOpen:function handleOpen(state,action){state.image=action.payload;state.isOpen=true;state.url=\"\";},handleRemove:function handleRemove(state){state.url=\"\";}},extraReducers:function extraReducers(builder){builder.addCase(saveImageAsync.pending,function(state){state.loading=true;}).addCase(saveImageAsync.fulfilled,function(state,action){state.url=action.payload;state.loading=false;state.isOpen=false;});}});var _imageCropperSlice$ac=imageCropperSlice.actions,handleClose=_imageCropperSlice$ac.handleClose,handleOpen=_imageCropperSlice$ac.handleOpen,handleRemove=_imageCropperSlice$ac.handleRemove;export{handleClose,handleOpen,handleRemove};export var selectState=function selectState(state){return state.imageCropper.isOpen;};export var selectImage=function selectImage(state){return state.imageCropper.image;};export var selectUrl=function selectUrl(state){return state.imageCropper.url;};export default imageCropperSlice.reducer;","map":{"version":3,"sources":["/Users/kirillsamylin/Desktop/table/stop-list/src/components/ImageCropper/ImageCropper.slice.js"],"names":["createSlice","createAsyncThunk","saveImage","initialState","isOpen","image","url","loading","saveImageAsync","data","response","imageCropperSlice","name","reducers","handleClose","state","handleOpen","action","payload","handleRemove","extraReducers","builder","addCase","pending","fulfilled","actions","selectState","imageCropper","selectImage","selectUrl","reducer"],"mappings":"2PAAA,OAASA,WAAT,CAAsBC,gBAAtB,KAA6C,kBAA7C,CACA,OAASC,SAAT,KAA0B,oBAA1B,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,MAAM,CAAE,KADW,CAEnBC,KAAK,CAAE,EAFY,CAGnBC,GAAG,CAAE,EAHc,CAInBC,OAAO,CAAE,KAJU,CAArB,CAOA,MAAO,IAAMC,CAAAA,cAAc,CAAGP,gBAAgB,CAC5C,wBAD4C,0FAE5C,iBAAOQ,IAAP,qJACyBP,CAAAA,SAAS,CAACO,IAAD,CADlC,QACQC,QADR,+CAESA,QAAQ,CAACD,IAFlB,wDAF4C,+DAAvC,CAQP,MAAO,IAAME,CAAAA,iBAAiB,CAAGX,WAAW,CAAC,CAC3CY,IAAI,CAAE,cADqC,CAE3CT,YAAY,CAAZA,YAF2C,CAG3CU,QAAQ,CAAE,CACRC,WAAW,CAAE,qBAACC,KAAD,CAAW,CACtBA,KAAK,CAACX,MAAN,CAAe,KAAf,CACAW,KAAK,CAACV,KAAN,CAAc,EAAd,CACD,CAJO,CAKRW,UAAU,CAAE,oBAACD,KAAD,CAAQE,MAAR,CAAmB,CAC7BF,KAAK,CAACV,KAAN,CAAcY,MAAM,CAACC,OAArB,CACAH,KAAK,CAACX,MAAN,CAAe,IAAf,CACAW,KAAK,CAACT,GAAN,CAAY,EAAZ,CACD,CATO,CAURa,YAAY,CAAE,sBAACJ,KAAD,CAAW,CACvBA,KAAK,CAACT,GAAN,CAAY,EAAZ,CACD,CAZO,CAHiC,CAiB3Cc,aAAa,CAAE,uBAACC,OAAD,CAAa,CAC1BA,OAAO,CACJC,OADH,CACWd,cAAc,CAACe,OAD1B,CACmC,SAACR,KAAD,CAAW,CAC1CA,KAAK,CAACR,OAAN,CAAgB,IAAhB,CACD,CAHH,EAIGe,OAJH,CAIWd,cAAc,CAACgB,SAJ1B,CAIqC,SAACT,KAAD,CAAQE,MAAR,CAAmB,CACpDF,KAAK,CAACT,GAAN,CAAYW,MAAM,CAACC,OAAnB,CACAH,KAAK,CAACR,OAAN,CAAgB,KAAhB,CACAQ,KAAK,CAACX,MAAN,CAAe,KAAf,CACD,CARH,EASD,CA3B0C,CAAD,CAArC,CA8BA,0BAAkDO,iBAAiB,CAACc,OAApE,CAAQX,WAAR,uBAAQA,WAAR,CAAqBE,UAArB,uBAAqBA,UAArB,CAAiCG,YAAjC,uBAAiCA,YAAjC,C,4CAEP,MAAO,IAAMO,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACX,KAAD,QAAWA,CAAAA,KAAK,CAACY,YAAN,CAAmBvB,MAA9B,EAApB,CACP,MAAO,IAAMwB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACb,KAAD,QAAWA,CAAAA,KAAK,CAACY,YAAN,CAAmBtB,KAA9B,EAApB,CACP,MAAO,IAAMwB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACd,KAAD,QAAWA,CAAAA,KAAK,CAACY,YAAN,CAAmBrB,GAA9B,EAAlB,CAEP,cAAeK,CAAAA,iBAAiB,CAACmB,OAAjC","sourcesContent":["import { createSlice, createAsyncThunk} from \"@reduxjs/toolkit\";\nimport { saveImage } from \"../../services/api\";\n\nconst initialState = {\n  isOpen: false,\n  image: \"\",\n  url: \"\",\n  loading: false,\n};\n\nexport const saveImageAsync = createAsyncThunk(\n  \"imageCropper/saveImage\",\n  async (data) => {\n    const response = await saveImage(data);\n    return response.data;\n  }\n);\n\nexport const imageCropperSlice = createSlice({\n  name: \"imageCropper\",\n  initialState,\n  reducers: {\n    handleClose: (state) => {\n      state.isOpen = false;\n      state.image = \"\";\n    },\n    handleOpen: (state, action) => {\n      state.image = action.payload;\n      state.isOpen = true;\n      state.url = \"\";\n    },\n    handleRemove: (state) => {\n      state.url = \"\";\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(saveImageAsync.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(saveImageAsync.fulfilled, (state, action) => {\n        state.url = action.payload;\n        state.loading = false;\n        state.isOpen = false;\n      });\n  },\n});\n\nexport const { handleClose, handleOpen, handleRemove } = imageCropperSlice.actions;\n\nexport const selectState = (state) => state.imageCropper.isOpen;\nexport const selectImage = (state) => state.imageCropper.image;\nexport const selectUrl = (state) => state.imageCropper.url;\n\nexport default imageCropperSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}