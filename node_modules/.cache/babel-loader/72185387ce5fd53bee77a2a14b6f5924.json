{"ast":null,"code":"import _defineProperty from\"/Users/kirillsamylin/Desktop/table/stop-list/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React from\"react\";import{Button,Spinner}from\"react-bootstrap\";import{useSelector,useDispatch}from\"react-redux\";import styles from\"./ImageCropperPreview.module.css\";import cn from\"classnames\";import{selectUrl,selectImage,selectLoading,selectImageLoad,handleRemove,handleOpen,offImageLoad}from\"../ImageCropper.slice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ImageCropperPreview=function ImageCropperPreview(_ref){var className=_ref.className,classImage=_ref.classImage,classMenu=_ref.classMenu;var url=useSelector(selectUrl);var image=useSelector(selectImage);var loading=useSelector(selectLoading);var imageLoad=useSelector(selectImageLoad);var dispatch=useDispatch();var onRemove=function onRemove(){return dispatch(handleRemove());};var onChange=function onChange(){dispatch(handleOpen(image));};var onLoad=function onLoad(){dispatch(offImageLoad());};return/*#__PURE__*/_jsx(_Fragment,{children:url||loading?/*#__PURE__*/_jsxs(\"div\",{className:cn(styles.preview,className),children:[/*#__PURE__*/_jsx(\"div\",{className:cn(styles.spinner,_defineProperty({},styles.hidden,!imageLoad||!loading)),children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\"})}),/*#__PURE__*/_jsx(\"img\",{onLoad:onLoad,src:url,alt:\"preview\",className:cn(styles.image,classImage,_defineProperty({},styles.hidden,imageLoad||loading))}),/*#__PURE__*/_jsxs(\"div\",{className:cn(styles.menu,classMenu),children:[/*#__PURE__*/_jsx(Button,{onClick:onChange,size:\"sm\",className:\"mr-2\",disabled:imageLoad,children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(Button,{onClick:onRemove,size:\"sm\",className:\"mr-2\",variant:\"danger\",disabled:imageLoad,children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]})]}):null});};export default ImageCropperPreview;","map":{"version":3,"sources":["/Users/kirillsamylin/Desktop/table/stop-list/src/components/ImageCropper/ImageCropperPreview/ImageCropperPreview.js"],"names":["React","Button","Spinner","useSelector","useDispatch","styles","cn","selectUrl","selectImage","selectLoading","selectImageLoad","handleRemove","handleOpen","offImageLoad","ImageCropperPreview","className","classImage","classMenu","url","image","loading","imageLoad","dispatch","onRemove","onChange","onLoad","preview","spinner","hidden","menu"],"mappings":"iIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,CAAiBC,OAAjB,KAAgC,iBAAhC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,kCAAnB,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,OACEC,SADF,CAEEC,WAFF,CAGEC,aAHF,CAIEC,eAJF,CAKEC,YALF,CAMEC,UANF,CAOEC,YAPF,KAQO,uBARP,C,6IAUA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,MAA0C,IAAvCC,CAAAA,SAAuC,MAAvCA,SAAuC,CAA5BC,UAA4B,MAA5BA,UAA4B,CAAhBC,SAAgB,MAAhBA,SAAgB,CACpE,GAAMC,CAAAA,GAAG,CAAGf,WAAW,CAACI,SAAD,CAAvB,CACA,GAAMY,CAAAA,KAAK,CAAGhB,WAAW,CAACK,WAAD,CAAzB,CACA,GAAMY,CAAAA,OAAO,CAAGjB,WAAW,CAACM,aAAD,CAA3B,CACA,GAAMY,CAAAA,SAAS,CAAGlB,WAAW,CAACO,eAAD,CAA7B,CACA,GAAMY,CAAAA,QAAQ,CAAGlB,WAAW,EAA5B,CACA,GAAMmB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,SAAMD,CAAAA,QAAQ,CAACX,YAAY,EAAb,CAAd,EAAjB,CAEA,GAAMa,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrBF,QAAQ,CAACV,UAAU,CAACO,KAAD,CAAX,CAAR,CACD,CAFD,CAIA,GAAMM,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnBH,QAAQ,CAACT,YAAY,EAAb,CAAR,CACD,CAFD,CAIA,mBACE,yBACGK,GAAG,EAAIE,OAAP,cACC,aAAK,SAAS,CAAEd,EAAE,CAACD,MAAM,CAACqB,OAAR,CAAiBX,SAAjB,CAAlB,wBACE,YAAK,SAAS,CAAET,EAAE,CAACD,MAAM,CAACsB,OAAR,oBACbtB,MAAM,CAACuB,MADM,CACG,CAACP,SAAD,EAAc,CAACD,OADlB,EAAlB,uBAGE,KAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,CAA4B,OAAO,CAAC,SAApC,EAHF,EADF,cAME,YAAK,MAAM,CAAEK,MAAb,CAAqB,GAAG,CAAEP,GAA1B,CAA+B,GAAG,CAAC,SAAnC,CAA6C,SAAS,CAAEZ,EAAE,CAACD,MAAM,CAACc,KAAR,CAAeH,UAAf,oBACrDX,MAAM,CAACuB,MAD8C,CACrCP,SAAS,EAAID,OADwB,EAA1D,EANF,cASE,aAAK,SAAS,CAAEd,EAAE,CAACD,MAAM,CAACwB,IAAR,CAAcZ,SAAd,CAAlB,wBACE,KAAC,MAAD,EAAQ,OAAO,CAAEO,QAAjB,CAA2B,IAAI,CAAC,IAAhC,CAAqC,SAAS,CAAC,MAA/C,CAAsD,QAAQ,CAAEH,SAAhE,8DADF,cAIE,KAAC,MAAD,EAAQ,OAAO,CAAEE,QAAjB,CAA2B,IAAI,CAAC,IAAhC,CAAqC,SAAS,CAAC,MAA/C,CAAsD,OAAO,CAAC,QAA9D,CAAuE,QAAQ,CAAEF,SAAjF,wDAJF,GATF,GADD,CAmBG,IApBN,EADF,CAwBD,CAxCD,CAyCA,cAAeP,CAAAA,mBAAf","sourcesContent":["import React from \"react\";\nimport { Button, Spinner } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport styles from \"./ImageCropperPreview.module.css\";\nimport cn from \"classnames\";\nimport {\n  selectUrl,\n  selectImage,\n  selectLoading,\n  selectImageLoad,\n  handleRemove,\n  handleOpen,\n  offImageLoad\n} from \"../ImageCropper.slice\";\n\nconst ImageCropperPreview = ({ className, classImage, classMenu }) => {\n  const url = useSelector(selectUrl);\n  const image = useSelector(selectImage);\n  const loading = useSelector(selectLoading);\n  const imageLoad = useSelector(selectImageLoad);\n  const dispatch = useDispatch();\n  const onRemove = () => dispatch(handleRemove());\n\n  const onChange = () => {\n    dispatch(handleOpen(image));\n  };\n\n  const onLoad = () => {\n    dispatch(offImageLoad());\n  };\n\n  return (\n    <>\n      {url || loading ? (\n        <div className={cn(styles.preview, className)}>\n          <div className={cn(styles.spinner, {\n              [styles.hidden]: !imageLoad || !loading,\n          })}>\n            <Spinner animation=\"border\" variant=\"primary\" />\n          </div>\n          <img onLoad={onLoad} src={url} alt=\"preview\" className={cn(styles.image, classImage, {\n              [styles.hidden]: imageLoad || loading,\n          })}/>\n          <div className={cn(styles.menu, classMenu)}>\n            <Button onClick={onChange} size=\"sm\" className=\"mr-2\" disabled={imageLoad}>\n              Изменить\n            </Button>\n            <Button onClick={onRemove} size=\"sm\" className=\"mr-2\" variant=\"danger\" disabled={imageLoad}>\n              Удалить\n            </Button>\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n};\nexport default ImageCropperPreview;\n"]},"metadata":{},"sourceType":"module"}