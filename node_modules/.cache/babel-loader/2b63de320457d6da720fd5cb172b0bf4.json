{"ast":null,"code":"function isRefer(item, product) {\n  return item.category_id === product.category_id || item.parent_id === product.category_id;\n}\n\nfunction someStatus(list, product, status) {\n  return list.some(item => item.product_id && isRefer(item, product) && item.active === status);\n}\n\nfunction productsItem(product, list) {\n  product.active = someStatus(list, product, true);\n  product.isPassiveProduct = someStatus(list, product, false);\n\n  if (product.products && product.products.length) {\n    product.products = productsTree(product.products, list);\n  }\n}\n\nexport function productsTree(products, listTree) {\n  return products.map(product => {\n    product;\n\n    if (!product.product_id) {\n      productsItem(product, listTree);\n      return product;\n    }\n\n    return product;\n  });\n}","map":{"version":3,"sources":["/Users/kirillsamylin/Desktop/table/stop-list/src/utils/productsTree.js"],"names":["isRefer","item","product","category_id","parent_id","someStatus","list","status","some","product_id","active","productsItem","isPassiveProduct","products","length","productsTree","listTree","map"],"mappings":"AAAA,SAASA,OAAT,CAAiBC,IAAjB,EAAuBC,OAAvB,EAAgC;AAC5B,SAAOD,IAAI,CAACE,WAAL,KAAqBD,OAAO,CAACC,WAA7B,IAA4CF,IAAI,CAACG,SAAL,KAAmBF,OAAO,CAACC,WAA9E;AACH;;AAED,SAASE,UAAT,CAAoBC,IAApB,EAA0BJ,OAA1B,EAAmCK,MAAnC,EAA2C;AACvC,SAAOD,IAAI,CAACE,IAAL,CAAWP,IAAD,IAAUA,IAAI,CAACQ,UAAL,IAAmBT,OAAO,CAACC,IAAD,EAAOC,OAAP,CAA1B,IAA6CD,IAAI,CAACS,MAAL,KAAgBH,MAAjF,CAAP;AACH;;AAED,SAASI,YAAT,CAAsBT,OAAtB,EAA+BI,IAA/B,EAAqC;AACjCJ,EAAAA,OAAO,CAACQ,MAAR,GAAiBL,UAAU,CAACC,IAAD,EAAOJ,OAAP,EAAgB,IAAhB,CAA3B;AACAA,EAAAA,OAAO,CAACU,gBAAR,GAA2BP,UAAU,CAACC,IAAD,EAAOJ,OAAP,EAAgB,KAAhB,CAArC;;AACA,MAAIA,OAAO,CAACW,QAAR,IAAoBX,OAAO,CAACW,QAAR,CAAiBC,MAAzC,EAAiD;AAC7CZ,IAAAA,OAAO,CAACW,QAAR,GAAmBE,YAAY,CAACb,OAAO,CAACW,QAAT,EAAmBP,IAAnB,CAA/B;AACH;AACJ;;AAED,OAAO,SAASS,YAAT,CAAsBF,QAAtB,EAAgCG,QAAhC,EAA0C;AAC7C,SAAOH,QAAQ,CAACI,GAAT,CAAcf,OAAD,IAAa;AAC7BA,IAAAA,OAAO;;AACP,QAAI,CAACA,OAAO,CAACO,UAAb,EAAyB;AACrBE,MAAAA,YAAY,CAACT,OAAD,EAAUc,QAAV,CAAZ;AACA,aAAOd,OAAP;AACH;;AACD,WAAOA,OAAP;AACH,GAPM,CAAP;AAQH","sourcesContent":["function isRefer(item, product) {\n    return item.category_id === product.category_id || item.parent_id === product.category_id\n}\n\nfunction someStatus(list, product, status) {\n    return list.some((item) => item.product_id && isRefer(item, product) && item.active === status);\n}\n\nfunction productsItem(product, list) {\n    product.active = someStatus(list, product, true);\n    product.isPassiveProduct = someStatus(list, product, false);\n    if (product.products && product.products.length) {\n        product.products = productsTree(product.products, list);\n    }\n}\n\nexport function productsTree(products, listTree) {\n    return products.map((product) => {\n        product\n        if (!product.product_id) {\n            productsItem(product, listTree);\n            return product;\n        }\n        return product;\n    });\n}"]},"metadata":{},"sourceType":"module"}