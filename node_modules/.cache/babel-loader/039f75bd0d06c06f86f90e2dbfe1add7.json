{"ast":null,"code":"import _objectSpread from\"/Users/kirillsamylin/Desktop/table/stop-list/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/kirillsamylin/Desktop/table/stop-list/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState}from\"react\";import styles from\"./ImageCropperPopup.module.css\";import{Popup}from\"../..\";import Cropper from\"react-cropper\";import{Button}from\"react-bootstrap\";import{selectState,selectImage,handleClose,saveImageAsync}from\"../ImageCropper.slice\";import{useSelector,useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var style={width:750,height:470};var options={aspectRatio:75/47,autoCropArea:1,style:style};var ImageCropperPopup=function ImageCropperPopup(){var cropperRef=useRef(null);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),cropper=_useState2[0],setCropper=_useState2[1];var state=useSelector(selectState);var image=useSelector(selectImage);var dispatch=useDispatch();var onClose=function onClose(){dispatch(handleClose());};var getCropData=function getCropData(){if(typeof cropper!==\"undefined\"){var croppImage=cropper.getCroppedCanvas().toDataURL();var formData=new FormData();var blob=new Blob([croppImage],{type:\"image/png\"});formData.append(\"image\",blob);dispatch(saveImageAsync(formData));}};return/*#__PURE__*/_jsxs(Popup,{className:styles.popup,classContainer:styles.container,opened:state,children:[/*#__PURE__*/_jsx(Cropper,_objectSpread(_objectSpread({src:image||\"\"},options),{},{ref:cropperRef,onInitialized:function onInitialized(instance){setCropper(instance);}})),/*#__PURE__*/_jsxs(\"div\",{className:styles.buttons,children:[/*#__PURE__*/_jsx(Button,{onClick:getCropData,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(Button,{onClick:onClose,variant:\"secondary\",children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"})]})]});};export default ImageCropperPopup;","map":null,"metadata":{},"sourceType":"module"}