{"ast":null,"code":"var _jsxFileName = \"/Users/kirillsamylin/Desktop/table/stop-list/src/components/PopupProduct/PopupProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport validator from \"validator\";\nimport { Popup, Steps } from \"..\";\nimport styles from \"./PopupProduct.module.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useForm } from \"react-hook-form\";\nimport { Form, Button, InputGroup, FormControl } from \"react-bootstrap\";\nimport { selectState, handleClose, selectData } from \"./PopupProduct.slice\";\nimport { insert } from '../App/App.slice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PopupProduct = () => {\n  _s();\n\n  console.log(\"render PopupProduct\");\n  const state = useSelector(selectState);\n  const data = useSelector(selectData);\n  const dispatch = useDispatch();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    },\n    reset\n  } = useForm();\n\n  const onSubmit = values => {\n    dispatch(insert({ ...values\n    }));\n    onClose();\n    console.log(values);\n    console.log(\"values\");\n  };\n\n  const onClose = () => {\n    dispatch(handleClose());\n  };\n\n  useEffect(() => {\n    reset(data);\n  }, [reset, data]);\n  useEffect(() => {\n    register(\"price\", {\n      validate: value => validator.isCurrency(value)\n    });\n  }, [register]);\n  return /*#__PURE__*/_jsxDEV(Popup, {\n    opened: state,\n    title: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\",\n    onClose: onClose,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n          ...register(\"name\", {\n            required: true\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n          className: styles.errors,\n          children: errors.name && \"Введите название\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"textarea\",\n          rows: 2,\n          ...register(\"ingredients\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u041A\\u0443\\u0445\\u043D\\u044F:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"select\",\n          multiple: true,\n          ...register(\"kitchen\", {\n            required: true\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0\",\n            children: \"\\u0420\\u0443\\u0441\\u0441\\u043A\\u0430\\u044F \\u043A\\u0443\\u0445\\u043D\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1\",\n            children: \"\\u0418\\u0442\\u0430\\u043B\\u044C\\u044F\\u043D\\u0441\\u043A\\u0430\\u044F \\u043A\\u0443\\u0445\\u043D\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"2\",\n            children: \"\\u042F\\u043F\\u043E\\u043D\\u0441\\u043A\\u0430\\u044F \\u043A\\u0443\\u0445\\u043D\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"3\",\n            children: \"\\u041F\\u0430\\u043D\\u0430\\u0437\\u0438\\u0430\\u0442\\u0441\\u043A\\u0430\\u044F \\u043A\\u0443\\u0445\\u043D\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"4\",\n            children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0441\\u043A\\u0430\\u044F \\u043A\\u0443\\u0445\\u043D\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n          className: styles.errors,\n          children: errors.kitchen && \"Выберите кухню\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u0426\\u0435\\u043D\\u0430:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C\",\n            \"aria-label\": \"Recipient's username\",\n            \"aria-describedby\": \"basic-addon2\",\n            ...register(\"price\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup.Append, {\n            children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n              id: \"basic-addon2\",\n              children: \"\\u0440\\u0443\\u0431.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n          className: styles.errors,\n          children: errors.price && \"Укажите стоимость\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: /*#__PURE__*/_jsxDEV(Form.File, {\n          id: \"exampleFormControlFile1\",\n          label: \"\\u041A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0430\",\n          ...register(\"image\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u0412\\u0435\\u0441\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0435\\u0441\",\n          ...register(\"weight\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u041A\\u0430\\u043B\\u043E\\u0440\\u0438\\u0439\\u043D\\u043E\\u0441\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043A\\u0430\\u043B\\u043E\\u0440\\u0438\\u0439\\u043D\\u043E\\u0441\\u0442\\u044C\",\n          ...register(\"calorie\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"exampleForm.active\",\n          className: \"mr-4\",\n          children: /*#__PURE__*/_jsxDEV(Form.Check, {\n            type: \"checkbox\",\n            label: \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u044B\\u0439\",\n            ...register(\"active\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"exampleForm.favorites\",\n          children: /*#__PURE__*/_jsxDEV(Form.Check, {\n            type: \"checkbox\",\n            label: \"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\",\n            ...register(\"favorites\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.buttons,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          type: \"button\",\n          onClick: onClose,\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PopupProduct, \"5eVyG1ak5ODuDfEfdHHbXdKLr5M=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useForm];\n});\n\n_c = PopupProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"PopupProduct\");","map":{"version":3,"sources":["/Users/kirillsamylin/Desktop/table/stop-list/src/components/PopupProduct/PopupProduct.js"],"names":["React","useState","useEffect","validator","Popup","Steps","styles","useSelector","useDispatch","useForm","Form","Button","InputGroup","FormControl","selectState","handleClose","selectData","insert","PopupProduct","console","log","state","data","dispatch","register","handleSubmit","formState","errors","reset","onSubmit","values","onClose","validate","value","isCurrency","required","name","kitchen","price","buttons"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport validator from \"validator\";\nimport { Popup, Steps } from \"..\";\nimport styles from \"./PopupProduct.module.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useForm } from \"react-hook-form\";\nimport { Form, Button, InputGroup, FormControl } from \"react-bootstrap\";\nimport { selectState, handleClose, selectData } from \"./PopupProduct.slice\";\n\nimport {\n  insert,\n} from '../App/App.slice';\n\nexport const PopupProduct = () => {\n  console.log(\"render PopupProduct\");\n  const state = useSelector(selectState);\n  const data = useSelector(selectData);\n  const dispatch = useDispatch();\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm();\n\n  const onSubmit = (values) => {\n    dispatch(insert(\n      { \n        ...values }));\n    onClose();\n    console.log(values);\n    console.log(\"values\");\n  };\n\n  const onClose = () => {\n    dispatch(handleClose());\n  };\n\n  useEffect(() => {\n    reset(data);\n  }, [reset, data]);\n\n  useEffect(() => {\n    register(\"price\", {\n      validate: (value) => validator.isCurrency(value),\n    });\n  }, [register]);\n\n  return (\n    <Popup opened={state} title=\"Добавить продукт\" onClose={onClose}>\n      <Form onSubmit={handleSubmit(onSubmit)}>\n        <Form.Group>\n          <Form.Label>Название продукта:</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Введите название\"\n            {...register(\"name\", { required: true })}\n          />\n          <Form.Text className={styles.errors}>\n            {errors.name && \"Введите название\"}\n          </Form.Text>\n        </Form.Group>\n        <Form.Group>\n          <Form.Label>Описание:</Form.Label>\n          <Form.Control as=\"textarea\" rows={2} {...register(\"ingredients\")} />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label>Кухня:</Form.Label>\n          <Form.Control\n            as=\"select\"\n            multiple\n            {...register(\"kitchen\", { required: true })}\n          >\n            <option value=\"0\">Русская кухня</option>\n            <option value=\"1\">Итальянская кухня</option>\n            <option value=\"2\">Японская кухня</option>\n            <option value=\"3\">Паназиатская кухня</option>\n            <option value=\"4\">Авторская кухня</option>\n          </Form.Control>\n          <Form.Text className={styles.errors}>\n            {errors.kitchen && \"Выберите кухню\"}\n          </Form.Text>\n        </Form.Group>\n        <Form.Group>\n          <Form.Label>Цена:</Form.Label>\n          <InputGroup className=\"mb-3\">\n            <FormControl\n              placeholder=\"Введите стоимость\"\n              aria-label=\"Recipient's username\"\n              aria-describedby=\"basic-addon2\"\n              {...register(\"price\", { required: true })}\n            />\n            <InputGroup.Append>\n              <InputGroup.Text id=\"basic-addon2\">руб.</InputGroup.Text>\n            </InputGroup.Append>\n          </InputGroup>\n          <Form.Text className={styles.errors}>\n            {errors.price && \"Укажите стоимость\"}\n          </Form.Text>\n        </Form.Group>\n        <Form.Group>\n          <Form.File\n            id=\"exampleFormControlFile1\"\n            label=\"Картинка\"\n            {...register(\"image\")}\n          />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label>Вес</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Введите вес\"\n            {...register(\"weight\")}\n          />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label>Калорийность</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Введите калорийность\"\n            {...register(\"calorie\")}\n          />\n        </Form.Group>\n        <div className=\"d-flex\">\n          <Form.Group controlId=\"exampleForm.active\" className=\"mr-4\">\n            <Form.Check\n              type=\"checkbox\"\n              label=\"Активный\"\n              {...register(\"active\")}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"exampleForm.favorites\">\n            <Form.Check\n              type=\"checkbox\"\n              label=\"Избранное\"\n              {...register(\"favorites\")}\n            />\n          </Form.Group>\n        </div>\n        <div className={styles.buttons}>\n          <Button variant=\"primary\" type=\"submit\">\n            Добавить\n          </Button>\n          <Button variant=\"secondary\" type=\"button\" onClick={onClose}>\n            Отмена\n          </Button>\n        </div>\n      </Form>\n    </Popup>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}