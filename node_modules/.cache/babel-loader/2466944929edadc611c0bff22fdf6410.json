{"ast":null,"code":"import React,{memo,useCallback}from'react';import styles from'./Category.module.css';import cn from'classnames';import FolderIcon from\"./icons/folder.svg\";import{Tree}from'../';import{Button,Switch}from'../../elements';import{useDispatch}from'react-redux';import{isEqual}from'lodash';import{changeStatus,changeExpand,remove,removeAsync}from'../Tree/Tree.slice';import*as popupProduct from\"../PopupProduct/PopupProduct.slice\";import*as popupCategory from\"../PopupCategory/PopupCategory.slice\";import*as popup小onfirm from\"../Popup小onfirm/Popup小onfirm.slice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Category=/*#__PURE__*/memo(function(_ref){var product=_ref.product;console.log('render Category');var category_id=product.category_id,parent_id=product.parent_id,name_ru=product.name_ru,products=product.products,children=product.children,disabled=product.disabled,expanded=product.expanded;var dispatch=useDispatch();var onClick=useCallback(function(){return dispatch(changeStatus(product));},[product,dispatch]);var onClickExpanded=useCallback(function(){return dispatch(changeExpand(product));},[product,dispatch]);var onCreateProduct=useCallback(function(){return dispatch(popupProduct.handleOpen(product));},[product,dispatch]);var onCreateCategory=useCallback(function(){return dispatch(popupCategory.handleOpen(product));},[product,dispatch]);var onRemove=useCallback(function(){return dispatch(removeAsync(product));},[product,dispatch]);var onConfirm=useCallback(function(){return dispatch(popup小onfirm.handleOpen({title:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044E \".concat(name_ru,\" ?\"),cb:new Promise(function(resolve){return resolve(onRemove);})}));},[dispatch,onRemove,name_ru]);return/*#__PURE__*/_jsxs(\"li\",{className:\"\".concat(styles.item,\" list-group-item\"),\"data-id\":category_id,\"data-name\":\"category\",children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.information,children:[/*#__PURE__*/_jsxs(\"div\",{onClick:onClickExpanded,className:cn(styles.header,styles.cursor),children:[/*#__PURE__*/_jsx(Button,{icon:expanded?'open':'close',opacity:products&&!products.length}),/*#__PURE__*/_jsx(\"img\",{className:styles.image,src:FolderIcon,alt:name_ru}),/*#__PURE__*/_jsx(\"p\",{className:styles.name,children:name_ru})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.buttons,children:[/*#__PURE__*/_jsx(Button,{icon:\"position\",className:\"position\"}),/*#__PURE__*/_jsx(Button,{onClick:onCreateCategory,icon:\"folder_plus\"}),/*#__PURE__*/_jsx(Button,{onClick:onCreateProduct,icon:\"insert\"}),/*#__PURE__*/_jsx(Button,{icon:\"edit\"}),/*#__PURE__*/_jsx(Button,{className:\"position2\",icon:\"delete\",onClick:onConfirm}),/*#__PURE__*/_jsx(Switch,{onClick:onClick,checked:!disabled,passive:product.isPassive})]})]}),/*#__PURE__*/_jsx(Tree,{id:category_id,products:products,categories:children,expanded:expanded,className:styles.view})]});},function(prev,now){return isEqual(prev,now);});","map":null,"metadata":{},"sourceType":"module"}