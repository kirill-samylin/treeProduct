{"ast":null,"code":"import { isEqual, isProducts } from '.';\n\nfunction set(item, status, arr) {\n  if (item.hasOwnProperty('product_id')) {\n    arr.push({\n      product_id: item.product_id,\n      active: status\n    });\n  }\n\n  item.active = status;\n}\n\nfunction treeSetStatus(tree = [], status = false, arr) {\n  for (let branch of tree) {\n    set(branch, status, arr);\n\n    if (isProducts(branch)) {\n      treeSetStatus(branch.products, status, arr);\n    }\n  }\n}\n\nexport function setStatus(item, tree, status, arr = []) {\n  return tree.map(branch => {\n    if (isEqual(item, branch)) {\n      set(branch, status, arr);\n      treeSetStatus(branch.products, status, arr);\n    } else if (isProducts(branch)) {\n      branch.products = setStatus(item, branch.products, status, arr);\n    }\n\n    return branch;\n  });\n}","map":{"version":3,"sources":["/Users/kirillsamylin/Desktop/table/stop-list/src/module/product/setStatus.js"],"names":["isEqual","isProducts","set","item","status","arr","hasOwnProperty","push","product_id","active","treeSetStatus","tree","branch","products","setStatus","map"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,UAAlB,QAAoC,GAApC;;AACA,SAASC,GAAT,CAAaC,IAAb,EAAmBC,MAAnB,EAA2BC,GAA3B,EAAgC;AAC5B,MAAIF,IAAI,CAACG,cAAL,CAAoB,YAApB,CAAJ,EAAuC;AACnCD,IAAAA,GAAG,CAACE,IAAJ,CAAS;AACLC,MAAAA,UAAU,EAAEL,IAAI,CAACK,UADZ;AAELC,MAAAA,MAAM,EAAEL;AAFH,KAAT;AAIH;;AACDD,EAAAA,IAAI,CAACM,MAAL,GAAcL,MAAd;AACH;;AAED,SAASM,aAAT,CAAuBC,IAAI,GAAC,EAA5B,EAAgCP,MAAM,GAAC,KAAvC,EAA8CC,GAA9C,EAAmD;AAC/C,OAAK,IAAIO,MAAT,IAAmBD,IAAnB,EAAyB;AACrBT,IAAAA,GAAG,CAACU,MAAD,EAASR,MAAT,EAAiBC,GAAjB,CAAH;;AACA,QAAIJ,UAAU,CAACW,MAAD,CAAd,EAAwB;AACpBF,MAAAA,aAAa,CAACE,MAAM,CAACC,QAAR,EAAkBT,MAAlB,EAA0BC,GAA1B,CAAb;AACH;AACJ;AACJ;;AAED,OAAO,SAASS,SAAT,CAAmBX,IAAnB,EAAyBQ,IAAzB,EAA+BP,MAA/B,EAAuCC,GAAG,GAAC,EAA3C,EAA+C;AAClD,SAAOM,IAAI,CAACI,GAAL,CAAUH,MAAD,IAAY;AACxB,QAAIZ,OAAO,CAACG,IAAD,EAAOS,MAAP,CAAX,EAA2B;AACvBV,MAAAA,GAAG,CAACU,MAAD,EAASR,MAAT,EAAiBC,GAAjB,CAAH;AACAK,MAAAA,aAAa,CAACE,MAAM,CAACC,QAAR,EAAkBT,MAAlB,EAA0BC,GAA1B,CAAb;AACH,KAHD,MAGO,IAAIJ,UAAU,CAACW,MAAD,CAAd,EAAwB;AAC3BA,MAAAA,MAAM,CAACC,QAAP,GAAkBC,SAAS,CAACX,IAAD,EAAOS,MAAM,CAACC,QAAd,EAAwBT,MAAxB,EAAgCC,GAAhC,CAA3B;AACH;;AACD,WAAOO,MAAP;AACH,GARM,CAAP;AASH","sourcesContent":["import { isEqual, isProducts } from '.';\nfunction set(item, status, arr) {\n    if (item.hasOwnProperty('product_id')) {\n        arr.push({\n            product_id: item.product_id,\n            active: status,\n        })\n    }\n    item.active = status\n}\n\nfunction treeSetStatus(tree=[], status=false, arr) {\n    for (let branch of tree) {\n        set(branch, status, arr);\n        if (isProducts(branch)) {\n            treeSetStatus(branch.products, status, arr);\n        }\n    }\n}\n\nexport function setStatus(item, tree, status, arr=[]) {\n    return tree.map((branch) => {\n        if (isEqual(item, branch)) {\n            set(branch, status, arr);\n            treeSetStatus(branch.products, status, arr)\n        } else if (isProducts(branch)) {\n            branch.products = setStatus(item, branch.products, status, arr);\n        }\n        return branch;\n    });\n}"]},"metadata":{},"sourceType":"module"}