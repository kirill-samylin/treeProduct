{"ast":null,"code":"import { tree } from \"..\";\n\nfunction set(item, arr) {\n  if (item.category_id) {\n    arr.push({\n      category_id: item.product_id,\n      disabled: 1\n    });\n    item.disabled = 1;\n  } else {\n    arr.push({\n      product_id: item.product_id,\n      active: false\n    });\n    item.active = false;\n  }\n}\n\nfunction setStatus(list = [], arr) {\n  for (let branch of list) {\n    set(branch, arr);\n\n    if (branch.category_id) {\n      setStatus(branch.products, arr);\n      setStatus(branch.children, arr);\n    }\n  }\n}\n\nexport function offBranch(item, list, arr = []) {\n  return list.map(branch => {\n    if (tree.isEqual(item, branch)) {\n      set(branch, arr);\n      setStatus(branch.products, arr);\n      setStatus(branch.children, arr);\n    } else if (branch.category_id) {\n      branch.products = offBranch(item, branch.products, arr);\n      branch.children = offBranch(item, branch.children, arr);\n    }\n\n    return branch;\n  });\n}","map":{"version":3,"sources":["/Users/kirillsamylin/Desktop/table/stop-list/src/module/tree/offBranch.js"],"names":["tree","set","item","arr","category_id","push","product_id","disabled","active","setStatus","list","branch","products","children","offBranch","map","isEqual"],"mappings":"AAAA,SAASA,IAAT,QAAqB,IAArB;;AAEA,SAASC,GAAT,CAAaC,IAAb,EAAmBC,GAAnB,EAAwB;AACtB,MAAID,IAAI,CAACE,WAAT,EAAsB;AACpBD,IAAAA,GAAG,CAACE,IAAJ,CAAS;AACPD,MAAAA,WAAW,EAAEF,IAAI,CAACI,UADX;AAEPC,MAAAA,QAAQ,EAAE;AAFH,KAAT;AAIAL,IAAAA,IAAI,CAACK,QAAL,GAAgB,CAAhB;AACD,GAND,MAMO;AACLJ,IAAAA,GAAG,CAACE,IAAJ,CAAS;AACPC,MAAAA,UAAU,EAAEJ,IAAI,CAACI,UADV;AAEPE,MAAAA,MAAM,EAAE;AAFD,KAAT;AAIAN,IAAAA,IAAI,CAACM,MAAL,GAAc,KAAd;AACD;AACF;;AAED,SAASC,SAAT,CAAmBC,IAAI,GAAG,EAA1B,EAA8BP,GAA9B,EAAmC;AACjC,OAAK,IAAIQ,MAAT,IAAmBD,IAAnB,EAAyB;AACvBT,IAAAA,GAAG,CAACU,MAAD,EAASR,GAAT,CAAH;;AACA,QAAIQ,MAAM,CAACP,WAAX,EAAwB;AACtBK,MAAAA,SAAS,CAACE,MAAM,CAACC,QAAR,EAAkBT,GAAlB,CAAT;AACAM,MAAAA,SAAS,CAACE,MAAM,CAACE,QAAR,EAAkBV,GAAlB,CAAT;AACD;AACF;AACF;;AAED,OAAO,SAASW,SAAT,CAAmBZ,IAAnB,EAAyBQ,IAAzB,EAA+BP,GAAG,GAAG,EAArC,EAAyC;AAC9C,SAAOO,IAAI,CAACK,GAAL,CAAUJ,MAAD,IAAY;AAC1B,QAAIX,IAAI,CAACgB,OAAL,CAAad,IAAb,EAAmBS,MAAnB,CAAJ,EAAgC;AAC9BV,MAAAA,GAAG,CAACU,MAAD,EAASR,GAAT,CAAH;AACAM,MAAAA,SAAS,CAACE,MAAM,CAACC,QAAR,EAAkBT,GAAlB,CAAT;AACAM,MAAAA,SAAS,CAACE,MAAM,CAACE,QAAR,EAAkBV,GAAlB,CAAT;AACD,KAJD,MAIO,IAAIQ,MAAM,CAACP,WAAX,EAAwB;AAC7BO,MAAAA,MAAM,CAACC,QAAP,GAAkBE,SAAS,CAACZ,IAAD,EAAOS,MAAM,CAACC,QAAd,EAAwBT,GAAxB,CAA3B;AACAQ,MAAAA,MAAM,CAACE,QAAP,GAAkBC,SAAS,CAACZ,IAAD,EAAOS,MAAM,CAACE,QAAd,EAAwBV,GAAxB,CAA3B;AACD;;AACD,WAAOQ,MAAP;AACD,GAVM,CAAP;AAWD","sourcesContent":["import { tree } from \"..\";\n\nfunction set(item, arr) {\n  if (item.category_id) {\n    arr.push({\n      category_id: item.product_id,\n      disabled: 1,\n    });\n    item.disabled = 1;\n  } else {\n    arr.push({\n      product_id: item.product_id,\n      active: false,\n    });\n    item.active = false;\n  }\n}\n\nfunction setStatus(list = [], arr) {\n  for (let branch of list) {\n    set(branch, arr);\n    if (branch.category_id) {\n      setStatus(branch.products, arr);\n      setStatus(branch.children, arr);\n    }\n  }\n}\n\nexport function offBranch(item, list, arr = []) {\n  return list.map((branch) => {\n    if (tree.isEqual(item, branch)) {\n      set(branch, arr);\n      setStatus(branch.products, arr);\n      setStatus(branch.children, arr);\n    } else if (branch.category_id) {\n      branch.products = offBranch(item, branch.products, arr);\n      branch.children = offBranch(item, branch.children, arr);\n    }\n    return branch;\n  });\n}\n"]},"metadata":{},"sourceType":"module"}