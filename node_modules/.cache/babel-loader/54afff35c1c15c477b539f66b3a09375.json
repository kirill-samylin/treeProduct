{"ast":null,"code":"import { isEqual } from \".\";\n\nfunction set(item, arr) {\n  if (item.category_id) {\n    arr.push({\n      category_id: item.product_id,\n      disabled: 0\n    });\n    item.disabled = 0;\n  } else {\n    arr.push({\n      product_id: item.product_id,\n      active: true\n    });\n    item.disabled = 0;\n  }\n}\n\nfunction setStatus(list = [], arr) {\n  for (let branch of list) {\n    set(branch, arr);\n\n    if (branch.category_id) {\n      setStatus(branch.products, arr);\n      setStatus(branch.children, arr);\n    }\n  }\n}\n\nexport function onBranch(item, list, arr = []) {\n  return list.map(branch => {\n    if (isEqual(item, branch)) {\n      set(branch, arr);\n      setStatus(branch.products, arr);\n      setStatus(branch.children, arr);\n    } else if (branch.category_id) {\n      branch.products = onBranch(item, branch.products, arr);\n      branch.children = onBranch(item, branch.children, arr);\n    }\n\n    return branch;\n  });\n}","map":{"version":3,"sources":["/Users/kirillsamylin/Desktop/table/stop-list/src/module/tree/onBranch.js"],"names":["isEqual","set","item","arr","category_id","push","product_id","disabled","active","setStatus","list","branch","products","children","onBranch","map"],"mappings":"AAAA,SAASA,OAAT,QAAwB,GAAxB;;AAEA,SAASC,GAAT,CAAaC,IAAb,EAAmBC,GAAnB,EAAwB;AACtB,MAAID,IAAI,CAACE,WAAT,EAAsB;AACpBD,IAAAA,GAAG,CAACE,IAAJ,CAAS;AACPD,MAAAA,WAAW,EAAEF,IAAI,CAACI,UADX;AAEPC,MAAAA,QAAQ,EAAE;AAFH,KAAT;AAIAL,IAAAA,IAAI,CAACK,QAAL,GAAgB,CAAhB;AACD,GAND,MAMO;AACLJ,IAAAA,GAAG,CAACE,IAAJ,CAAS;AACPC,MAAAA,UAAU,EAAEJ,IAAI,CAACI,UADV;AAEPE,MAAAA,MAAM,EAAE;AAFD,KAAT;AAIAN,IAAAA,IAAI,CAACK,QAAL,GAAgB,CAAhB;AACD;AACF;;AAED,SAASE,SAAT,CAAmBC,IAAI,GAAG,EAA1B,EAA8BP,GAA9B,EAAmC;AACjC,OAAK,IAAIQ,MAAT,IAAmBD,IAAnB,EAAyB;AACvBT,IAAAA,GAAG,CAACU,MAAD,EAASR,GAAT,CAAH;;AACA,QAAIQ,MAAM,CAACP,WAAX,EAAwB;AACtBK,MAAAA,SAAS,CAACE,MAAM,CAACC,QAAR,EAAkBT,GAAlB,CAAT;AACAM,MAAAA,SAAS,CAACE,MAAM,CAACE,QAAR,EAAkBV,GAAlB,CAAT;AACD;AACF;AACF;;AAED,OAAO,SAASW,QAAT,CAAkBZ,IAAlB,EAAwBQ,IAAxB,EAA8BP,GAAG,GAAG,EAApC,EAAwC;AAC7C,SAAOO,IAAI,CAACK,GAAL,CAAUJ,MAAD,IAAY;AAC1B,QAAIX,OAAO,CAACE,IAAD,EAAOS,MAAP,CAAX,EAA2B;AACzBV,MAAAA,GAAG,CAACU,MAAD,EAASR,GAAT,CAAH;AACAM,MAAAA,SAAS,CAACE,MAAM,CAACC,QAAR,EAAkBT,GAAlB,CAAT;AACAM,MAAAA,SAAS,CAACE,MAAM,CAACE,QAAR,EAAkBV,GAAlB,CAAT;AACD,KAJD,MAIO,IAAIQ,MAAM,CAACP,WAAX,EAAwB;AAC7BO,MAAAA,MAAM,CAACC,QAAP,GAAkBE,QAAQ,CAACZ,IAAD,EAAOS,MAAM,CAACC,QAAd,EAAwBT,GAAxB,CAA1B;AACAQ,MAAAA,MAAM,CAACE,QAAP,GAAkBC,QAAQ,CAACZ,IAAD,EAAOS,MAAM,CAACE,QAAd,EAAwBV,GAAxB,CAA1B;AACD;;AACD,WAAOQ,MAAP;AACD,GAVM,CAAP;AAWD","sourcesContent":["import { isEqual } from \".\";\n\nfunction set(item, arr) {\n  if (item.category_id) {\n    arr.push({\n      category_id: item.product_id,\n      disabled: 0,\n    });\n    item.disabled = 0;\n  } else {\n    arr.push({\n      product_id: item.product_id,\n      active: true,\n    });\n    item.disabled = 0;\n  }\n}\n\nfunction setStatus(list = [], arr) {\n  for (let branch of list) {\n    set(branch, arr);\n    if (branch.category_id) {\n      setStatus(branch.products, arr);\n      setStatus(branch.children, arr);\n    }\n  }\n}\n\nexport function onBranch(item, list, arr = []) {\n  return list.map((branch) => {\n    if (isEqual(item, branch)) {\n      set(branch, arr);\n      setStatus(branch.products, arr);\n      setStatus(branch.children, arr);\n    } else if (branch.category_id) {\n      branch.products = onBranch(item, branch.products, arr);\n      branch.children = onBranch(item, branch.children, arr);\n    }\n    return branch;\n  });\n}\n"]},"metadata":{},"sourceType":"module"}