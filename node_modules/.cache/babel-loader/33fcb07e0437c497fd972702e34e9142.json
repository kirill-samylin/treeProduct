{"ast":null,"code":"import _defineProperty from\"/Users/kirillsamylin/Desktop/table/stop-list/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{memo,useCallback}from'react';import styles from'./Branch.module.css';import cn from'classnames';import FolderIcon from\"./icons/folder.svg\";import FileIcon from\"./icons/file.svg\";import{Tree}from'../';import{Button,Switch}from'../../elements';import{useDispatch}from'react-redux';import{changeStatus,changeExpand,remove}from'../App/App.slice';import*as popupProduct from\"../PopupProduct/PopupProduct.slice\";import*as popupCategory from\"../PopupCategory/PopupCategory.slice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Branch=/*#__PURE__*/memo(function(_ref){var product=_ref.product;console.log('render Branch');var category_id=product.category_id,name=product.name,products=product.products,product_id=product.product_id,url=product.url,_product$active=product.active,active=_product$active===void 0?false:_product$active,expanded=product.expanded;var dispatch=useDispatch();var onClick=useCallback(function(){return dispatch(changeStatus(product));},[product,dispatch]);var onClickExpanded=useCallback(function(){return dispatch(changeExpand(product));},[product,dispatch]);var onCreateProduct=useCallback(function(){return dispatch(popupProduct.handleOpen(product));},[product,dispatch]);var onCreateCategory=useCallback(function(){return dispatch(popupCategory.handleOpen(product));},[product,dispatch]);var onRemove=useCallback(function(){return dispatch(remove(product));},[product,dispatch]);return/*#__PURE__*/_jsxs(\"li\",{className:\"\".concat(styles.item,\" list-group-item\"),\"data-id\":!product_id?category_id:product_id,\"data-name\":!product_id?\"category\":\"product\",children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.information,children:[/*#__PURE__*/_jsxs(\"div\",{onClick:!product_id?onClickExpanded:undefined,className:cn(styles.header,_defineProperty({},styles.cursor,!product_id)),children:[!product_id?/*#__PURE__*/_jsx(Button,{icon:expanded?'open':'close',opacity:products&&!products.length}):null,/*#__PURE__*/_jsx(\"img\",{className:styles.image,src:!product_id?FolderIcon:FileIcon,alt:name}),/*#__PURE__*/_jsx(\"p\",{className:styles.name,children:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.buttons,children:[/*#__PURE__*/_jsx(Button,{icon:\"position\",className:\"position\"}),!product_id?/*#__PURE__*/_jsx(Button,{onClick:onCreateCategory,icon:\"folder_plus\"}):null,!product_id?/*#__PURE__*/_jsx(Button,{onClick:onCreateProduct,icon:\"insert\"}):null,/*#__PURE__*/_jsx(Button,{icon:\"edit\"}),/*#__PURE__*/_jsx(Button,{className:\"position2\",icon:\"delete\",onClick:onRemove}),/*#__PURE__*/_jsx(Switch,{onClick:onClick,checked:active})]})]}),!product_id?/*#__PURE__*/_jsx(Tree,{id:category_id,tree:products,expanded:expanded,className:styles.view}):null]});});","map":{"version":3,"sources":["/Users/kirillsamylin/Desktop/table/stop-list/src/components/Branch/Branch.js"],"names":["React","memo","useCallback","styles","cn","Tree","Button","Switch","useDispatch","changeStatus","changeExpand","remove","popupProduct","popupCategory","Branch","product","console","log","category_id","name","products","product_id","url","active","expanded","dispatch","onClick","onClickExpanded","onCreateProduct","handleOpen","onCreateCategory","onRemove","item","information","undefined","header","cursor","length","image","FolderIcon","FileIcon","buttons","view"],"mappings":"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","sourcesContent":["import React, { memo, useCallback } from 'react';\nimport styles from './Branch.module.css';\nimport cn from 'classnames';\nimport FolderIcon from './icons/folder.svg';\nimport FileIcon from './icons/file.svg';\nimport { Tree } from '../';\nimport { Button, Switch } from '../../elements';\nimport { useDispatch } from 'react-redux';\nimport {\n    changeStatus,\n    changeExpand,\n    remove\n} from '../App/App.slice';\n\nimport * as popupProduct from \"../PopupProduct/PopupProduct.slice\";\nimport * as popupCategory from \"../PopupCategory/PopupCategory.slice\";\n\nexport const Branch = memo(({ product }) => {\n    console.log('render Branch')\n    const { category_id, /*parent_id,*/ name, products, product_id, url, active=false, expanded } = product;\n\n    const dispatch = useDispatch();\n    const onClick = useCallback(() => dispatch(changeStatus(product)), [product, dispatch]);\n    const onClickExpanded = useCallback(() => dispatch(changeExpand(product)), [product, dispatch]);\n    const onCreateProduct = useCallback(() => dispatch(popupProduct.handleOpen(product)), [product, dispatch]);\n    const onCreateCategory = useCallback(() => dispatch(popupCategory.handleOpen(product)), [product, dispatch]);\n    const onRemove = useCallback(() => dispatch(remove(product)), [product, dispatch]);\n\n    return (\n        <li className={`${styles.item} list-group-item`} \n            data-id={!product_id ? category_id : product_id} \n            data-name={!product_id ? \"category\" : \"product\"}>\n            <div className={styles.information}>\n                <div onClick={!product_id ? onClickExpanded : undefined} className={cn(styles.header, {\n                    [styles.cursor]: !product_id,\n                })}>\n                    {(!product_id) ? \n                        <Button icon={expanded ? 'open' : 'close'} opacity={products && !products.length} />\n                    : null}\n                    <img className={styles.image} src={(!product_id) ? FolderIcon : FileIcon} alt={name} />\n                    <p className={styles.name}>{name}</p>\n                </div> \n                <div className={styles.buttons}>\n                    <Button icon='position' className='position' />\n                    {(!product_id) ? <Button onClick={onCreateCategory} icon='folder_plus' /> : null }\n                    {(!product_id) ? <Button onClick={onCreateProduct} icon='insert' /> : null }\n                    <Button icon='edit' />\n                    <Button className=\"position2\" icon='delete' onClick={onRemove} />\n                    <Switch onClick={onClick} checked={active}/>\n                </div>\n            </div>\n            {!product_id ? \n                <Tree\n                    id={category_id}\n                    tree={products} \n                    expanded={expanded}\n                    className={styles.view}\n                />\n            : null}\n            \n        </li>\n    )\n});"]},"metadata":{},"sourceType":"module"}