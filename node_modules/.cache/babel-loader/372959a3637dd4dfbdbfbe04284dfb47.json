{"ast":null,"code":"export function flatten(tree, parent_id, arr = []) {\n  for (let branch of tree) {\n    const obj = { ...branch,\n      isPassive: false\n    };\n\n    if (obj.product_id) {\n      obj.parent_id = parent_id;\n    }\n\n    if (obj.category_id) {\n      flatten(obj.products, obj.category_id, arr);\n      flatten(obj.children, obj.category_id, arr);\n    }\n\n    arr.push(obj);\n  }\n\n  return arr;\n}","map":null,"metadata":{},"sourceType":"module"}