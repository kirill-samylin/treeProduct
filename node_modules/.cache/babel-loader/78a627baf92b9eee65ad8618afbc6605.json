{"ast":null,"code":"import React,{memo,useCallback}from'react';import styles from'./Category.module.css';import cn from'classnames';import FolderIcon from\"./icons/folder.svg\";import{Tree}from'../';import{Button,Switch}from'../../elements';import{useDispatch}from'react-redux';import{changeStatus,changeExpand,remove}from'../App/App.slice';import*as popupProduct from\"../PopupProduct/PopupProduct.slice\";import*as popupCategory from\"../PopupCategory/PopupCategory.slice\";import*as popupСonfirm from\"../PopupСonfirm/PopupСonfirm.slice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Category=/*#__PURE__*/memo(function(_ref){var product=_ref.product;console.log('render Category');var category_id=product.category_id,parent_id=product.parent_id,name_ru=product.name_ru,products=product.products,children=product.children,disabled=product.disabled,expanded=product.expanded;var dispatch=useDispatch();var onClick=useCallback(function(){return dispatch(changeStatus(product));},[product,dispatch]);var onClickExpanded=useCallback(function(){return dispatch(changeExpand(product));},[product,dispatch]);var onCreateProduct=useCallback(function(){return dispatch(popupProduct.handleOpen(product));},[product,dispatch]);var onCreateCategory=useCallback(function(){return dispatch(popupCategory.handleOpen(product));},[product,dispatch]);var onRemove=useCallback(function(){return dispatch(remove(product));},[product,dispatch]);var onConfirm=useCallback(function(){return dispatch(popupСonfirm.handleOpen({data:product,title:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044E \".concat(name_ru,\" ?\"),cb:onRemove}));},[product,dispatch,onRemove,name_ru]);return/*#__PURE__*/_jsxs(\"li\",{className:\"\".concat(styles.item,\" list-group-item\"),\"data-id\":category_id,\"data-name\":\"category\",children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.information,children:[/*#__PURE__*/_jsxs(\"div\",{onClick:onClickExpanded,className:cn(styles.header,styles.cursor),children:[/*#__PURE__*/_jsx(Button,{icon:expanded?'open':'close',opacity:products&&!products.length}),/*#__PURE__*/_jsx(\"img\",{className:styles.image,src:FolderIcon,alt:name_ru}),/*#__PURE__*/_jsx(\"p\",{className:styles.name,children:name_ru})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.buttons,children:[/*#__PURE__*/_jsx(Button,{icon:\"position\",className:\"position\"}),/*#__PURE__*/_jsx(Button,{onClick:onCreateCategory,icon:\"folder_plus\"}),/*#__PURE__*/_jsx(Button,{onClick:onCreateProduct,icon:\"insert\"}),/*#__PURE__*/_jsx(Button,{icon:\"edit\"}),/*#__PURE__*/_jsx(Button,{className:\"position2\",icon:\"delete\",onClick:onConfirm}),/*#__PURE__*/_jsx(Switch,{onClick:onClick,checked:!disabled,passive:product.isPassive})]})]}),/*#__PURE__*/_jsx(Tree,{id:category_id,products:products,categories:children,expanded:expanded,className:styles.view})]});});","map":{"version":3,"sources":["/Users/kirillsamylin/Desktop/table/stop-list/src/components/Category/Category.js"],"names":["React","memo","useCallback","styles","cn","Tree","Button","Switch","useDispatch","changeStatus","changeExpand","remove","popupProduct","popupCategory","popupСonfirm","Category","product","console","log","category_id","parent_id","name_ru","products","children","disabled","expanded","dispatch","onClick","onClickExpanded","onCreateProduct","handleOpen","onCreateCategory","onRemove","onConfirm","data","title","cb","item","information","header","cursor","length","image","FolderIcon","name","buttons","isPassive","view"],"mappings":"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","sourcesContent":["import React, { memo, useCallback } from 'react';\nimport styles from './Category.module.css';\nimport cn from 'classnames';\nimport FolderIcon from './icons/folder.svg';\nimport { Tree } from '../';\nimport { Button, Switch } from '../../elements';\nimport { useDispatch } from 'react-redux';\nimport {\n    changeStatus,\n    changeExpand,\n    remove\n} from '../App/App.slice';\n\nimport * as popupProduct from \"../PopupProduct/PopupProduct.slice\";\nimport * as popupCategory from \"../PopupCategory/PopupCategory.slice\";\nimport * as popupСonfirm from \"../PopupСonfirm/PopupСonfirm.slice\";\n\nexport const Category = memo(({ product }) => {\n    console.log('render Category');\n\n    const { category_id, parent_id, name_ru, products, children, /*url,*/ disabled, expanded } = product;\n\n    const dispatch = useDispatch();\n    const onClick = useCallback(() => dispatch(changeStatus(product)), [product, dispatch]);\n    const onClickExpanded = useCallback(() => dispatch(changeExpand(product)), [product, dispatch]);\n    const onCreateProduct = useCallback(() => dispatch(popupProduct.handleOpen(product)), [product, dispatch]);\n    const onCreateCategory = useCallback(() => dispatch(popupCategory.handleOpen(product)), [product, dispatch]);\n    const onRemove = useCallback(() => dispatch(remove(product)), [product, dispatch]);\n\n    const onConfirm = useCallback(() => dispatch(popupСonfirm.handleOpen({\n        data: product,\n        title: `Удалить категорию ${name_ru} ?`,\n        cb: onRemove,\n    })), [product, dispatch, onRemove, name_ru]);\n\n    return (\n        <li className={`${styles.item} list-group-item`} \n            data-id={category_id} \n            data-name=\"category\">\n            <div className={styles.information}>\n                <div onClick={onClickExpanded} className={cn(styles.header, styles.cursor)}>\n                    <Button icon={expanded ? 'open' : 'close'} opacity={products && !products.length} />\n                    <img className={styles.image} src={FolderIcon} alt={name_ru} />\n                    <p className={styles.name}>{name_ru}</p>\n                </div> \n                <div className={styles.buttons}>\n                    <Button icon='position' className='position' />\n                    <Button onClick={onCreateCategory} icon='folder_plus' />\n                    <Button onClick={onCreateProduct} icon='insert' />\n                    <Button icon='edit' />\n                    <Button className=\"position2\" icon='delete' onClick={onConfirm} />\n                    <Switch onClick={onClick} checked={!disabled} passive={product.isPassive} />\n                </div>\n            </div>\n                <Tree\n                id={category_id}\n                products={products}\n                categories={children} \n                expanded={expanded}\n                className={styles.view}\n            />\n        </li>\n    )\n});"]},"metadata":{},"sourceType":"module"}