{"ast":null,"code":"import _objectSpread from\"/Users/kirillsamylin/Desktop/table/stop-list/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect}from\"react\";import{Popup,ImageCropper}from\"..\";import styles from\"./PopupCategory.module.css\";import{useSelector,useDispatch}from\"react-redux\";import{useForm}from\"react-hook-form\";import{Form,Button}from\"react-bootstrap\";import{selectState,selectData,handleClose}from\"./PopupCategory.slice\";import{handleRemove}from\"../ImageCropper/ImageCropper.slice\";import{insert}from'../App/App.slice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PopupCategory=function PopupCategory(){var state=useSelector(selectState);var data=useSelector(selectData);var dispatch=useDispatch();var _useForm=useForm({mode:'onChange'}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isValid=_useForm$formState.isValid,reset=_useForm.reset;var onSubmit=function onSubmit(values){values.category_id=+new Date();values.products=[];values.children=[];delete values.image;dispatch(insert(values));onClose();};var onClose=function onClose(){dispatch(handleClose());dispatch(handleRemove());};useEffect(function(){reset(data);},[reset,data]);return/*#__PURE__*/_jsx(Popup,{opened:state,title:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044E\",onClose:onClose,children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 (\\u0420\\u0443\\u0441\\u0441\\u043A\\u043E\\u0435):\"}),/*#__PURE__*/_jsx(Form.Control,_objectSpread({type:\"text\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"},register(\"name_ru\",{required:true}))),/*#__PURE__*/_jsx(Form.Text,{className:styles.errors,children:errors.name&&\"Введите название\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 (English):\"}),/*#__PURE__*/_jsx(Form.Control,_objectSpread({type:\"text\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"},register(\"name_en\",{required:true}))),/*#__PURE__*/_jsx(Form.Text,{className:styles.errors,children:errors.name_en&&\"Введите название\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 (Spanish):\"}),/*#__PURE__*/_jsx(Form.Control,_objectSpread({type:\"text\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"},register(\"name_es\",{required:true}))),/*#__PURE__*/_jsx(Form.Text,{className:styles.errors,children:errors.name_es&&\"Введите название\"})]}),/*#__PURE__*/_jsx(Form.Group,{controlId:\"exampleForm.activeCategory\",className:\"mr-4\",children:/*#__PURE__*/_jsx(Form.Check,_objectSpread({type:\"checkbox\",label:\"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u0430\\u044F\"},register(\"active\")))}),/*#__PURE__*/_jsx(ImageCropper,{register:register}),/*#__PURE__*/_jsxs(\"div\",{className:styles.buttons,children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",disabled:!isValid,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",type:\"button\",onClick:onClose,children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"})]})]})});};","map":{"version":3,"sources":["/Users/kirillsamylin/Desktop/table/stop-list/src/components/PopupCategory/PopupCategory.js"],"names":["React","useEffect","Popup","ImageCropper","styles","useSelector","useDispatch","useForm","Form","Button","selectState","selectData","handleClose","handleRemove","insert","PopupCategory","state","data","dispatch","mode","register","handleSubmit","formState","errors","isValid","reset","onSubmit","values","category_id","Date","products","children","image","onClose","required","name","name_en","name_es","buttons"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Popup, ImageCropper } from \"..\";\nimport styles from \"./PopupCategory.module.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useForm } from \"react-hook-form\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { selectState, selectData, handleClose } from \"./PopupCategory.slice\";\nimport { handleRemove } from \"../ImageCropper/ImageCropper.slice\";\n\nimport {\n  insert,\n} from '../App/App.slice';\n\nexport const PopupCategory = () => {\n  const state = useSelector(selectState);\n  const data = useSelector(selectData);\n  const dispatch = useDispatch();\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isValid },\n    reset,\n  } = useForm({ mode: 'onChange' });\n\n  const onSubmit = (values) => {\n    values.category_id = +new Date();\n    values.products = [];\n    values.children = [];\n    delete values.image;\n    dispatch(insert(values));\n    onClose();\n  };\n\n  const onClose = () => {\n    dispatch(handleClose());\n    dispatch(handleRemove());\n  };\n\n  useEffect(() => {\n    reset(data);\n  }, [reset, data]);\n  \n  return (\n    <Popup\n      opened={state}\n      title=\"Добавить категорию\"\n      onClose={onClose}\n    >\n      <Form onSubmit={handleSubmit(onSubmit)}>\n        <Form.Group>\n          <Form.Label>Название (Русское):</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Введите название\"\n            {...register(\"name_ru\", { required: true })}\n          />\n          <Form.Text className={styles.errors}>\n            {errors.name && \"Введите название\"}\n          </Form.Text>\n        </Form.Group>\n        <Form.Group>\n          <Form.Label>Название (English):</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Введите название\"\n            {...register(\"name_en\", { required: true })}\n          />\n          <Form.Text className={styles.errors}>\n            {errors.name_en && \"Введите название\"}\n          </Form.Text>\n        </Form.Group>\n        <Form.Group>\n          <Form.Label>Название (Spanish):</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Введите название\"\n            {...register(\"name_es\", { required: true })}\n          />\n          <Form.Text className={styles.errors}>\n            {errors.name_es && \"Введите название\"}\n          </Form.Text>\n        </Form.Group>\n\n        <Form.Group controlId=\"exampleForm.activeCategory\" className=\"mr-4\">\n          <Form.Check\n              type=\"checkbox\"\n              label=\"Активная\"\n              {...register(\"active\")}\n          />\n        </Form.Group>\n        <ImageCropper register={register} />\n        <div className={styles.buttons}>\n            <Button variant=\"primary\" type=\"submit\" disabled={!isValid}>\n              Добавить\n            </Button>\n            <Button variant=\"secondary\" type=\"button\" onClick={onClose}>\n              Отмена\n            </Button>\n        </div>\n      </Form>\n    </Popup>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}