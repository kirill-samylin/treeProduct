{"ast":null,"code":"function isRefer(item, product) {\n  return item.category_id === product.category_id || item.parent_id === product.category_id;\n}\n\nfunction someStatus(list, product, status) {\n  return list.some(item => item.product_id && isRefer(item, product) && item.active === status);\n}\n\nfunction treeItem(product, list) {\n  product.active = someStatus(list, product, true);\n  product.isPassive = someStatus(list, product, false);\n\n  if (product.products && product.products.length) {\n    product.products = tree(product.products, list);\n  }\n}\n\nexport function tree(products, listTree) {\n  return products.map(product => {\n    if (!product.expanded) product.expanded = false;\n\n    if (!product.product_id) {\n      treeItem(product, listTree);\n      return product;\n    }\n\n    return product;\n  });\n}","map":{"version":3,"sources":["/Users/kirillsamylin/Desktop/table/stop-list/src/module/product/tree.js"],"names":["isRefer","item","product","category_id","parent_id","someStatus","list","status","some","product_id","active","treeItem","isPassive","products","length","tree","listTree","map","expanded"],"mappings":"AAAA,SAASA,OAAT,CAAiBC,IAAjB,EAAuBC,OAAvB,EAAgC;AAC5B,SAAOD,IAAI,CAACE,WAAL,KAAqBD,OAAO,CAACC,WAA7B,IAA4CF,IAAI,CAACG,SAAL,KAAmBF,OAAO,CAACC,WAA9E;AACH;;AAED,SAASE,UAAT,CAAoBC,IAApB,EAA0BJ,OAA1B,EAAmCK,MAAnC,EAA2C;AACvC,SAAOD,IAAI,CAACE,IAAL,CAAWP,IAAD,IAAUA,IAAI,CAACQ,UAAL,IAAmBT,OAAO,CAACC,IAAD,EAAOC,OAAP,CAA1B,IAA6CD,IAAI,CAACS,MAAL,KAAgBH,MAAjF,CAAP;AACH;;AAED,SAASI,QAAT,CAAkBT,OAAlB,EAA2BI,IAA3B,EAAiC;AAC7BJ,EAAAA,OAAO,CAACQ,MAAR,GAAiBL,UAAU,CAACC,IAAD,EAAOJ,OAAP,EAAgB,IAAhB,CAA3B;AACAA,EAAAA,OAAO,CAACU,SAAR,GAAoBP,UAAU,CAACC,IAAD,EAAOJ,OAAP,EAAgB,KAAhB,CAA9B;;AACA,MAAIA,OAAO,CAACW,QAAR,IAAoBX,OAAO,CAACW,QAAR,CAAiBC,MAAzC,EAAiD;AAC7CZ,IAAAA,OAAO,CAACW,QAAR,GAAmBE,IAAI,CAACb,OAAO,CAACW,QAAT,EAAmBP,IAAnB,CAAvB;AACH;AACJ;;AAED,OAAO,SAASS,IAAT,CAAcF,QAAd,EAAwBG,QAAxB,EAAkC;AACrC,SAAOH,QAAQ,CAACI,GAAT,CAAcf,OAAD,IAAa;AAC7B,QAAI,CAACA,OAAO,CAACgB,QAAb,EAAuBhB,OAAO,CAACgB,QAAR,GAAmB,KAAnB;;AACvB,QAAI,CAAChB,OAAO,CAACO,UAAb,EAAyB;AACrBE,MAAAA,QAAQ,CAACT,OAAD,EAAUc,QAAV,CAAR;AACA,aAAOd,OAAP;AACH;;AACD,WAAOA,OAAP;AACH,GAPM,CAAP;AAQH","sourcesContent":["function isRefer(item, product) {\n    return item.category_id === product.category_id || item.parent_id === product.category_id\n}\n\nfunction someStatus(list, product, status) {\n    return list.some((item) => item.product_id && isRefer(item, product) && item.active === status);\n}\n\nfunction treeItem(product, list) {\n    product.active = someStatus(list, product, true);\n    product.isPassive = someStatus(list, product, false);\n    if (product.products && product.products.length) {\n        product.products = tree(product.products, list);\n    }\n}\n\nexport function tree(products, listTree) {\n    return products.map((product) => {\n        if (!product.expanded) product.expanded = false;\n        if (!product.product_id) {\n            treeItem(product, listTree);\n            return product;\n        }\n        return product;\n    });\n}"]},"metadata":{},"sourceType":"module"}