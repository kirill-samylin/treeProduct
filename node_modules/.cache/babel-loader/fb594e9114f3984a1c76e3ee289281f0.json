{"ast":null,"code":"import _defineProperty from\"/Users/kirillsamylin/Desktop/job/foodle-api/src/lk/web/js/react/tree/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useCallback,useContext}from\"react\";import{Button,Spinner}from\"react-bootstrap\";import{useSelector,useDispatch}from\"react-redux\";import ParamsContext from'../../../contexts/ParamsContext';import styles from\"./ImageCropperPreview.module.css\";import cn from\"classnames\";import{selectUrl,selectImage,selectLoading,selectImageLoad,handleRemove,handleOpen,offImageLoad}from\"../ImageCropper.slice\";import*as popup小onfirm from\"../../Popup小onfirm/Popup小onfirm.slice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ImageCropperPreview=function ImageCropperPreview(_ref){var className=_ref.className,classImage=_ref.classImage,classMenu=_ref.classMenu;var _useContext=useContext(ParamsContext),cdnHost=_useContext.cdnHost;console.log(cdnHost);var url=useSelector(selectUrl);var image=useSelector(selectImage);var loading=useSelector(selectLoading);var imageLoad=useSelector(selectImageLoad);var dispatch=useDispatch();var onRemove=useCallback(function(){return dispatch(handleRemove());},[dispatch]);var onChange=useCallback(function(){dispatch(handleOpen(image));},[dispatch,image]);var onLoad=useCallback(function(){dispatch(offImageLoad());},[dispatch]);var onConfirm=useCallback(function(){return dispatch(popup小onfirm.handleOpen({title:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443 ?\",cb:onRemove}));},[dispatch,onRemove]);return/*#__PURE__*/_jsx(_Fragment,{children:url||loading?/*#__PURE__*/_jsxs(\"div\",{className:cn(styles.preview,className),children:[/*#__PURE__*/_jsx(\"div\",{className:cn(styles.spinner,_defineProperty({},styles.hidden,!imageLoad||!loading)),children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\"})}),/*#__PURE__*/_jsx(\"img\",{onLoad:onLoad,src:url?cdnHost+url:'',alt:\"preview\",className:cn(styles.image,classImage,_defineProperty({},styles.hidden,imageLoad||loading))}),/*#__PURE__*/_jsxs(\"div\",{className:cn(styles.menu,classMenu),children:[/*#__PURE__*/_jsx(Button,{onClick:onChange,size:\"sm\",className:\"mr-2\",disabled:imageLoad,children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(Button,{onClick:onConfirm,size:\"sm\",className:\"mr-2\",variant:\"danger\",disabled:imageLoad,children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]})]}):null});};export default ImageCropperPreview;","map":null,"metadata":{},"sourceType":"module"}