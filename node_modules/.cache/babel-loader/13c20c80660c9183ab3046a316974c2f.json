{"ast":null,"code":"var _jsxFileName = \"/Users/kirillsamylin/Desktop/job/foodle-api/src/lk/web/js/react/tree/src/components/Category/Category.js\",\n    _s = $RefreshSig$();\n\nimport React, { memo, useCallback } from 'react';\nimport styles from './Category.module.css';\nimport cn from 'classnames';\nimport FolderIcon from \"./icons/folder.svg\";\nimport { Tree } from '../';\nimport { Button, Switch } from '../../elements';\nimport { useDispatch } from 'react-redux';\nimport { isEqual } from 'lodash';\nimport { changeStatus, changeExpand, remove, removeAsync } from '../Tree/Tree.slice';\nimport * as popupProduct from \"../PopupProduct/PopupProduct.slice\";\nimport * as popupCategory from \"../PopupCategory/PopupCategory.slice\";\nimport * as popupСonfirm from \"../PopupСonfirm/PopupСonfirm.slice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Category = /*#__PURE__*/memo(_c = _s(({\n  product\n}) => {\n  _s();\n\n  console.log('render Category');\n  const {\n    category_id,\n    parent_id,\n    name_ru,\n    products,\n    children,\n\n    /*url,*/\n    disabled,\n    expanded\n  } = product;\n  const dispatch = useDispatch();\n  const onClick = useCallback(() => dispatch(changeStatus(product)), [product, dispatch]);\n  const onClickExpanded = useCallback(() => dispatch(changeExpand(product)), [product, dispatch]);\n  const onCreateProduct = useCallback(() => dispatch(popupProduct.handleOpen(product)), [product, dispatch]);\n  const onCreateCategory = useCallback(() => dispatch(popupCategory.handleOpen(product)), [product, dispatch]);\n  const onRemove = useCallback(() => new Promise(resolve => resolve(dispatch(removeAsync(product)), [product, dispatch])));\n  const onConfirm = useCallback(() => dispatch(popupСonfirm.handleOpen({\n    title: `Удалить категорию ${name_ru} ?`,\n    cb: onRemove\n  })), [dispatch, onRemove, name_ru]);\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: `${styles.item} list-group-item`,\n    \"data-id\": category_id,\n    \"data-name\": \"category\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.information,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: onClickExpanded,\n        className: cn(styles.header, styles.cursor),\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          icon: expanded ? 'open' : 'close',\n          opacity: products && !products.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.image,\n          src: FolderIcon,\n          alt: name_ru\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.name,\n          children: name_ru\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.buttons,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          icon: \"position\",\n          className: \"position\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: onCreateCategory,\n          icon: \"folder_plus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: onCreateProduct,\n          icon: \"insert\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          icon: \"edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"position2\",\n          icon: \"delete\",\n          onClick: onConfirm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Switch, {\n          onClick: onClick,\n          checked: !disabled,\n          passive: product.isPassive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Tree, {\n      id: category_id,\n      products: products,\n      categories: children,\n      expanded: expanded,\n      className: styles.view\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}, \"8LYEqTK5+X6tc/0M1SKfhmsQ6jY=\", false, function () {\n  return [useDispatch];\n}), (prev, now) => {\n  return isEqual(prev, now);\n});\n_c2 = Category;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Category$memo\");\n$RefreshReg$(_c2, \"Category\");","map":null,"metadata":{},"sourceType":"module"}